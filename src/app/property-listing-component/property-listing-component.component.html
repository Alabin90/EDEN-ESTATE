<app-Navbar-component></app-Navbar-component>

<!-- PAGE HERO -->
<section class="listing-hero text-white d-flex align-items-center">
  <div class="container text-center">
    <h1 class="fw-bold display-5">Explore Available Properties</h1>
    <p class="lead">Find the perfect home that fits your lifestyle</p>
  </div>
</section>

<!-- MAIN CONTENT -->
<div class="container my-5">

  <!-- FILTER / SEARCH BAR -->
  <div class="bg-white shadow p-4 rounded mb-5">
    <div class="row align-items-center">

      <div class="col-md-5">
        <input
          type="text"
          class="form-control form-control-lg"
          placeholder="Search by city or town..."
          [(ngModel)]="searchTerm"
          (input)="filterProperties()"
        />
      </div>

      <div class="col-md-4">
        <select class="form-select form-select-lg">
          <option>Property Type</option>
          <option>Apartment</option>
          <option>Duplex</option>
          <option>Land</option>
        </select>
      </div>

      <div class="col-md-3 text-md-end mt-3 mt-md-0">
        <span class="text-muted small">Logged in as:</span>
        <span class="fw-bold">{{ email }}</span>
      </div>

    </div>
  </div>

  <!-- PROPERTY GRID -->
  <div class="row g-4">
    <div *ngFor="let property of filteredProperties" class="col-lg-4 col-md-6">

      <div class="card property-card border-0 shadow-sm h-100">

        <div class="property-image-wrapper">
          <img [src]="property.imageUrl" class="card-img-top property-image" alt="{{ property.title }}">
          <div class="price-badge">
            {{ property.price }}
          </div>
        </div>

        <div class="card-body">
          <h5 class="fw-bold">{{ property.title }}</h5>
          <p class="text-muted small mb-2">
            <i class="bi bi-geo-alt"></i> {{ property.location }}
          </p>

          <p class="card-text text-secondary">
            {{ property.description }}
          </p>

          <a 
            [routerLink]="['/properties', property.id]" 
            class="btn btn-dark w-100 mt-3"
          >
            View Details
          </a>
        </div>

      </div>

    </div>
  </div>

</div>